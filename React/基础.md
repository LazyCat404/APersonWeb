# React å…¥é—¨

> ä»åŸºç¡€å¼€å§‹ï¼Œä¸€ç‚¹ç‚¹æ·±å…¥å­¦ä¹  React ï¼ŒåŸºç¡€éƒ¨åˆ†ä¸æ¶‰åŠè„šæ‰‹æ¶ï¼Œåªæ˜¯æœ€åŸºæœ¬çš„ç”¨æ³•ã€ç‰¹ç‚¹ä»¥åŠæ³¨æ„äº‹é¡¹ç­‰ã€‚

### React ä¾èµ–

> è¿è¡Œä¸€ä¸ª React é¡¹ç›®ï¼Œéœ€è¦å¼•å…¥çš„ä¾èµ–æ–‡ä»¶ã€‚

##### React çš„æ ¸å¿ƒæ–‡ä»¶

```js
https://unpkg.com/react@16/umd/react.development.js
```

#### æ“ä½œDOMçš„æ‰©å±•åº“

```js
https://unpkg.com/react-dom@16/umd/react-dom.development.js
```

#### è§£æjsxè¯­æ³•

```js
https://cdn.bootcss.com/babel-standalone/7.0.0-beta.3/babel.min.js
```

**PS ï¼šå¦‚è¦å®ç°ç®€å•çš„ React é¡¹ç›®ï¼Œè¿™ä¸‰ä¸ªä¾èµ–æ–‡ä»¶æ˜¯å¿…é¡»çš„ï¼›åœ¨æ™®é€šçš„ Htmlæ–‡ä»¶ä¸­åˆ©ç”¨`<script>`å¼•å…¥ä»¥ä¸Šä¸‰ä¸ªæ–‡ä»¶ï¼Œå³åˆ»å®ç°Reactçš„ä½¿ç”¨**

####  PropTypes è¿›è¡Œç±»å‹æ£€æŸ¥

> å¦‚æœé¡¹ç›®ç”¨ç”¨åˆ° `PropTypes` è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œè¯¥ä¾èµ–æ˜¯å¿…é¡»çš„

```js
https://unpkg.com/prop-types@15.6/prop-types.js
```

### jsx (è™šæ‹ŸDOM) è¯­æ³•

> JSæ“ä½œDOMæ˜¯éå¸¸å¤æ‚ï¼ŒJSæ“ä½œDOMè¶Šå¤šï¼Œè€¦åˆåº¦å°±è¶Šé«˜ï¼Œä»£ç è¶Šéš¾ä»¥ç»´æŠ¤ã€‚
> 
> è™šæ‹ŸDOMï¼Œåˆ©ç”¨JSå¯¹è±¡æ¥æè¿°DOMæ ‘ç»“æ„ï¼Œæ‰¾æ—§Vdomä¸æ–°çš„Vdomçš„**æœ€å°å·®å¼‚**ï¼Œç„¶åå†æŠŠå·®å¼‚æ¸²æŸ“å‡ºæ¥

#### å£°æ˜ type è§£æjsx

> å¦‚æœæƒ³åœ¨ `<script>`æ ‡ç­¾å†…å†™ jsx ä»£ç ï¼Œä¸€å®šè¦å†™ `type="text/babel"`
```jsx
<script type="text/babel">  
   {/*â€¦è¿™é‡Œæ˜¯æ³¨é‡Šï¼Œè¿™é‡Œç§‘å†™ jsx è¯­æ³•ä»£ç â€¦*/}
</script>
```
#### JSX è§„åˆ™

1. é‡åˆ°`<>`å¼€å¤´çš„ä»£ç ä»¥æ ‡ç­¾çš„è¯­æ³•è§£æï¼ŒHtml åŒåçš„è½¬æ¢æˆHtmlå…ƒç´ ï¼Œå…¶å®ƒæ ‡ç­¾éœ€è¦ç‰¹åˆ«è§£æ

2. jsx è¦æƒ³è§£æjsä»£ç ï¼Œå¿…é¡»è¦å†™åœ¨`{}`é‡Œé¢

```jsx
let names = ['èµµ','é’±','å­™','æ']
const vUl = <ul>
    {
        //æ–¹å¼ä¸€ï¼š
        names.map((name,index) => {
            return <li key = {index}>{name}</li> // ä¸å†™return ä¸æŠ¥é”™ï¼Œä¹Ÿä¸ä¼šå‡ºç°
        }),
        // æ–¹å¼äºŒï¼š
        names.map((name,index) => 
            <li key = {index}>{name}</li>   //å»æ‰{}å³å¯ï¼ŒES6æœ‰{}ï¼Œå¿…é¡»return
        )
    }    
</ul>
ReactDOM.render(vUl,document.getElementById('app'))
```
#### çº¯ js åˆ›å»ºè™šæ‹ŸDOMï¼ˆä¸€èˆ¬ä¸ç”¨ï¼‰

> `<script>` ä¸ç”¨å¿…é¡»æŒ‡å®š type ç±»å‹

```js
var msg = 'Hello World'
var vDom = React.createElement('h1',{id:'myId'},msg)
/**
    * React.createElement()æ¥æ”¶ä¸‰ä¸ªå‚æ•°
    * 1. æ ‡ç­¾å
    * 2. å±æ€§åï¼šå±æ€§å€¼    ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡
    * 3. ï¼ˆæ ‡ç­¾ï¼‰å†…å®¹
*/
ReactDOM.render(vDom,document.getElementById('app'))
```
#### [Diff ç®—æ³•](https://segmentfault.com/a/1190000000606216)

> å¯¹æ¯”Vdomæ ‘å·®å¼‚çš„ç®—æ³•

**1. åŒå±‚æ¯”å¯¹**

æ–°æ—§Vdomæ¯”å¯¹æ—¶é‡‡å–åŒå±‚æ¯”å¯¹ï¼Œå½“å‘ç°æŸèŠ‚ç‚¹**ä¸ä¸€è‡´**æ—¶**ç›´æ¥æ›¿æ¢è¯¥èŠ‚ç‚¹çš„å­æ ‘**ã€‚è€Œä¸ç®¡å®ƒçš„å­æ ‘æ˜¯å¦æ”¹åŠ¨ã€‚

**2. keyå€¼çš„ä½¿ç”¨**

åœ¨åˆ—è¡¨å¾ªç¯çš„æ—¶å€™Reactä¼šè¦æ±‚æ¯ä¸€ä¸ªåˆ—è¡¨é¡¹æœ‰ä¸€ä¸ª**ç‹¬ä¸€æ— äºŒ**ï¼Œ**ç¨³å®šçš„keyå€¼**ï¼Œå®ƒçš„ç›®çš„æ˜¯ä¸ºäº†å½“çŠ¶æ€æ”¹å˜æ—¶æ–°æ—§çŠ¶æ€çš„æ¯ä¸€ä¸ªåˆ—è¡¨é¡¹èƒ½å¤Ÿå¯¹åº”èµ·æ¥ï¼Œæ–¹ä¾¿æ¯”å¯¹ã€‚

**3. åˆå¹¶æ“ä½œ**

è°ƒç”¨ `component` çš„ `setState` æ–¹æ³•çš„æ—¶å€™ï¼ŒReact å°†å…¶æ ‡è®°ä¸º `dirty`ï¼Œåˆ°æ¯ä¸€ä¸ªäº‹ä»¶å¾ªç¯ç»“æŸï¼ŒReact æ£€æŸ¥æ‰€æœ‰æ ‡è®° `dirty` çš„ `component` é‡æ–°ç»˜åˆ¶ã€‚

### ç»„ä»¶
        
#### å·¥å‚å‡½æ•°ç»„ä»¶ï¼ˆç®€å•ç»„ä»¶ï¼‰

> é€‚ç”¨äºä¸æ¶‰åŠï¼ˆåŠ¨æ€ï¼‰æ•°æ®æ“ä½œ

```js
function Simple(){  
    return <h1>ç®€å•ç»„ä»¶</h1>
}
ReactDOM.render(<Simple/>,document.getElementById('app'))
```
#### ES6 ç±»ç»„ä»¶ï¼ˆå¤æ‚ç»„ä»¶ï¼‰

```js
class Complex extends React.Component{
    render(){
        return (<h1>å¤æ‚ç»„ä»¶</h1>)  //å¤–å±‚çš„()å¯å†™å¯ä¸å†™
    }
}
ReactDOM.render(<Complex/>,document.getElementById('app2'))
```
#### è¯´æ˜ï¼ˆæ— è®ºé‚£ç§ç»„ä»¶ï¼‰

1. é¦–å­—æ¯éƒ½å¿…é¡»å¤§å†™

2. æ ‡ç­¾å¿…é¡»é—­åˆ 

3. åªèƒ½æœ‰ä¸€ä¸ªè·Ÿæ ‡ç­¾

> é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬ä¼šç”¨ä¸€ä¸ª`<div>`æ ‡ç­¾ä½œä¸ºæœ€å¤–å±‚çš„è·Ÿæ ‡ç­¾ï¼Œä½†æœ‰çš„æ—¶å€™ï¼ˆfelx å¸ƒå±€æ—¶ï¼‰ä¸è¦æœ€å¤–å±‚è¿™ä¸ª`<div>`ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`<Fragment>` åŒ…è£¹åœ¨æœ€å¤–å±‚ï¼Œåœ¨é¡µé¢ä¸Šå¹¶ä¸ä¼šæ¸²æŸ“å‡ºå¤šä½™æ ‡ç­¾

```js 
import React,{Fragment} from 'react';

class Demo extends React.Component{
    render(){
        return (
           <Frament>
                {/* jsx ä»£ç  */}
           </Frament> 
        )  
    }
}
```

### state (çŠ¶æ€)

> `State`æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºç»„ä»¶æŒ‚è½½æ—¶æ‰€éœ€çš„é»˜è®¤å€¼ã€‚`State`å¯èƒ½ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œå‘ç”Ÿå˜åŒ–ï¼Œä½†å¤šæ•°æ—¶å€™æ˜¯ä½œä¸ºç”¨æˆ·äº‹ä»¶è¡Œä¸ºçš„ç»“æœ
>
> ç†è§£ä¸ºï¼šç”¨äº**å­˜æ”¾ç»„ä»¶ä¸­çš„æ•°æ®**

#### ä½¿ç”¨

**1.  æ ‡å‡†å†™æ³•**

```js
class Demo extends React.Component {
    constructor(props) {    
        super(props);   // å¦‚æœä¸å†™ props å…¶å®ä¹Ÿå¯ä»¥
        this.state = {
            name:'å¼ ä¸‰'
        }
    }
    render() {
        return (
            //â€¦â€¦
        )
    }
} 
```
**2. çœç•¥ `constructor`**

```js
class Demo extends React.Component {
    state = {
        name:'å¼ ä¸‰'
    }
    render() {
        return (
            //â€¦â€¦
        )
    }
} 
```
#### [super(props)](https://juejin.im/post/5c04fea5f265da6133565696)

åœ¨ js ä¸­ï¼Œ`super` æŒ‡ä»£çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼ˆReact ä¸­æŒ‡ä»£ `React.Component`ï¼‰ï¼Œ`super(props)` ç”¨`props`åšå‚æ•°çš„åŸå› åˆ™æ˜¯ä¸ºäº†è®©å­ç±»ä¸­èƒ½ç”¨ `constructor` è®¿é—® `this.props`ï¼ˆå¦‚æœå¿˜è®°å†™ä¹Ÿæ²¡å…³ç³»ï¼‰ã€‚

åœ¨è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¹‹å‰ï¼Œæ— æ³•åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ `this`ï¼Œä¼šæŠ¥é”™ã€‚

```js
class Checkbox extends React.Component {
    constructor(props) {
        // ğŸ”´ è¿™æ—¶å€™è¿˜ä¸èƒ½ä½¿ç”¨ `this`
        super(props);
        // âœ… ç°åœ¨å¼€å§‹å¯ä»¥äº†
        this.state = { isOn: true };
    }
    // ...
}
```
#### props

1. `props`ç”±çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ï¼ˆçˆ¶ -> å­ï¼‰ï¼Œå°±å­ç»„ä»¶è€Œè¨€ï¼Œ`props`æ˜¯ä¸å¯å˜çš„ã€‚

2. ç»„ä»¶ä¸èƒ½æ”¹å˜è‡ªèº«`props`ï¼Œä½†æ˜¯å¯ä»¥æŠŠå…¶å®ƒå­ç»„ä»¶çš„`props`é˜²åœ¨ä¸€èµ·ç®¡ç†ã€‚ 

3. `props`ä¹Ÿä¸ä»…å¯ä»¥ä¼ é€’æ•°æ®ï¼Œå¯ä»¥`props`ä¼ é€’å›è°ƒå‡½æ•°ã€‚

#### setState()

**1. ä¸è¦ç›´æ¥æ›´æ–°çŠ¶æ€**

`setState` å¾ªç¯è°ƒç”¨å­˜åœ¨é£é™©

å¦‚æœåœ¨`shouldComponentUpdate`æˆ–`componentWillUpdate` æ–¹æ³•é‡Œè°ƒç”¨ `this.setState` æ–¹æ³•ï¼Œä¼šé€ æˆå´©æºƒã€‚

**2. setState()æ˜¯å¼‚æ­¥çš„**

è€ƒè™‘åˆ°æ€§èƒ½é—®é¢˜ï¼Œ`setState`ä½¿ç”¨ä¸€ä¸ª**é˜Ÿåˆ—æœºåˆ¶**æ¥æ›´æ–°`state`ã€‚

å½“æ‰§è¡Œ`setState`æ—¶ï¼Œä¼šå°†éœ€è¦æ›´æ–°çš„`state`**æµ…åˆå¹¶**åæ”¾å…¥çŠ¶æ€é˜Ÿåˆ—ï¼Œä¸ä¼šç«‹å³æ›´æ–°`state`ã€‚è€Œå¦‚æœä¸ä½¿ç”¨`setState`ï¼Œè€Œç›´æ¥ä¿®æ”¹`state`çš„å€¼å°±ä¸ä¼šæ”¾å…¥çŠ¶æ€é˜Ÿåˆ—ï¼Œä¸‹ä¸€æ¬¡è°ƒç”¨`setState`å¯¹çŠ¶æ€é˜Ÿåˆ—è¿›è¡Œæ›´æ–°çš„æ—¶å€™å¯èƒ½ä¼šé€ æˆä¸å¯é¢„çŸ¥çš„é”™è¯¯ã€‚

å¦‚æœæ˜¯ç”±Reactå¼•å‘çš„äº‹ä»¶å¤„ç†ï¼ˆæ¯”å¦‚é€šè¿‡`onClick`å¼•å‘çš„äº‹ä»¶å¤„ç†ï¼‰ï¼Œè°ƒç”¨`setState`ä¸ä¼šåŒæ­¥æ›´æ–°`this.state`ï¼Œé™¤æ­¤ä¹‹å¤–çš„`setState`è°ƒç”¨ä¼šåŒæ­¥æ‰§è¡Œ`this.state`ã€‚

æ‰€è°“â€œé™¤æ­¤ä¹‹å¤–â€ï¼ŒæŒ‡çš„æ˜¯ç»•è¿‡Reacté€šè¿‡`addEventListener`ç›´æ¥æ·»åŠ çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿˜æœ‰é€šè¿‡`setTimeout/setInterval`äº§ç”Ÿçš„å¼‚æ­¥è°ƒç”¨ã€‚è€Œè¿™ä¸€åˆ‡éƒ½æ˜¯å› ä¸ºä¸€ä¸ªéå¸¸æ ¸å¿ƒçš„æ¦‚å¿µ--äº‹åŠ¡

### ç»„ä»¶é—´é€šä¿¡

> é¦–å…ˆè¦æ˜ç¡®ä¸€ç‚¹ï¼ŒReact ä¸­é‡‡ç”¨çš„æ˜¯**å•é¡¹æ•°æ®æµ**

#### çˆ¶ -> å­

> çˆ¶ç»„ä»¶é€šè¿‡`å±æ€§`å®šä¹‰çš„æ–¹å¼å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼›å­ç»„ä»¶é€šè¿‡`props`æ¥å—çˆ¶ç»„ä»¶ä¼ è¿‡æ¥å€¼

```js
class Father extends React.Component {
    render() {
        return (
            <div>
                <Child  name='å°æ˜'/>
            </div>
        )
    }
}

class Child extends React.Component {
    render() {
        const {name} = this.props;  //ES6 è§£æ„èµ‹å€¼
        return (
            <div>
                {name}
            </div>
        )
    }
}
```
#### å­ -> çˆ¶

> å­ç»„ä»¶é€šè¿‡è§¦å‘**äº‹ä»¶**çš„æ–¹å¼ï¼Œåƒçˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ï¼›çˆ¶ç»„ä»¶é€šè¿‡**è‡ªå®šä¹‰å›è°ƒå‡½æ•°**æ¥æ”¶æ•°æ®

```js
class Father extends React.Component {
    state = {
        num : 0
    }
    add = (value) =>{   //value æ¥æ”¶å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼
        var {num} = this.state; //åƒä¸‡ä¸è¦ç›´æ¥æ›´æ”¹ state å†…çš„æ•°æ®ï¼Œä¸€å®šè¦ä¿å­˜å‡ºæ¥æ“ä½œ
        num = num + 1;
        this.setState({ //æ›´æ–°state
            num    //Es6 è¯­æ³•ï¼Œ num:num
        })
    }
    render() {
        var {num} = this.state;
        return (
            <div>
                <Child  allAdd = {this.add} num = {num}/>
            </div>
        )
    }
}

class Child extends React.Component {
    myClick = () => {
        this.props.allAdd() //è°ƒç”¨çˆ¶ç»„ä»¶è‡ªå®šä¹‰çš„ allAdd() æ–¹æ³•
    }
    render() {
        var {num} = this.props;  //ES6 è§£æ„èµ‹å€¼
        return (
            <div onClick = {this.myClick}>  {/*ç‚¹å‡»äº‹ä»¶è§¦å‘myClick()æ–¹æ³•*/}
                {num}
            </div>
        )
    }
}
```
#### PropTypes ç±»å‹æ£€æŸ¥

> ä¸º`Component`çš„`props`å±æ€§è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä»¥ç¡®å®š`props`æ•°æ®çš„æœ‰æ•ˆæ€§

```js
class Test extends React.Component{
    render(){
        let {name,sex,age,} = this.props
        return (
            <div>
                <h1>å§“åï¼š{name}</h1>
                <h1>æ€§åˆ«ï¼š{sex}</h1>
                <h1>å¹´é¾„ï¼š{age}</h1>
            </div>
        )  
    }
}
// æµ‹è¯•æ•°æ®
let person = {
    name:'å°æ˜',
    sex:'ç”·',
    age:19
}
// ç±»å‹æ£€æŸ¥
Test.propTypes = {
    name:PropTypes.string.isRequired    //å§“åå¿…é¡»ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œä¸”ä¸èƒ½ä¸ºç©º
}
Test.defaultProps = {    //æŒ‡å®šé»˜è®¤å€¼
    sex:'ç”·',
    age:18
}
// ReactDOM.render(<Test name ={person.name} sex ={person.sex} age ={person.age}/>,document.getElementById('app'))
// ES6 å†™æ³•ï¼Œæ‰©å±•è¿ç®—ç¬¦
ReactDOM.render(<Test {...person}/>,document.getElementById('app'))
```
**PSï¼špropTypes æä¾›äº†å¤šç§éªŒè¯å·¥å…·ï¼Œå¸¸ç”¨çš„æœ‰ï¼š**

```js
Test.propTypes = {
    myArray: PropTypes.array,       // å¿…é¡»ä¸ºæ•°ç»„
    myBool: PropTypes.bool,         // å¸ƒå°”
    myFunc: PropTypes.func,         // å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰
    myNumber: PropTypes.number,     // æ•°å­—
    myObject: PropTypes.object,     // å¯¹è±¡
    myString: PropTypes.string,     // å­—ç¬¦ä¸²
    mySymbol: PropTypes.symbol,     // symbol
    myNode: PropTypes.node,         // ä»»ä½•å¯ä»¥è¢«æ¸²æŸ“çš„å…ƒç´ ï¼ˆæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œreact å…ƒç´ ï¼Œæ•°ç»„ï¼Œfragmentï¼‰
    myElement: PropTypes.element,   // react å…ƒç´ 
    noNUll: PropTypes.isRequired    // ä¸èƒ½ä¸ºç©º
}  
Test.defaultProps = {    //æŒ‡å®šé»˜è®¤å€¼
    //â€¦â€¦
} 
// è¿œä¸åªè¿™äº›
```

### å—æ§ç»„ä»¶ / éå—æ§ç»„ä»¶

> ä½œç”¨ï¼šè·å–è¡¨å•æ•°æ®

#### å—æ§ç»„ä»¶ï¼ˆå»ºè®®ï¼‰

> å—state æ§åˆ¶

```js
class Add extends React.Component{
    //å—æ§ç»„ä»¶
    state = {
        age:''
    }
    change = (event)=>{
        this.setState({ //æ›´æ–°state
            age:event.target.value
        })
    }
    myGet = ()=>{
        console.log(this.state.age)
    }
    render(){
        const {age} = this.state
        return(
            <div>
                <div>æ­¤ä¸ºå—æ§ç»„ä»¶ï¼š</div>
                å¹´é¾„ï¼š<input type='text' value = {age} onChange = {this.change}/>
                <button onClick = {this.myGet}>è·å–å¹´é¾„</button>
            </div>
        )
    }
}
```
#### éå—æ§ç»„ä»¶

> ä¸å—state æ§åˆ¶

```js
class Add extends React.Component{
    get = ()=>{
        console.log(this.input.value)
    }
    render(){
        const {age} = this.state
        return(
            <div>
                <div>æ­¤ä¸ºéå—æ§ç»„ä»¶ï¼š</div>
                å§“åï¼š<input type='text' ref={(input)=>(this.input = input)}/>
                <button onClick = {this.get}>è·å–å§“å</button>
            </div>
        )
    }
}
```

### ç”Ÿå‘½å‘¨æœŸ

> ç»„ä»¶ç”±ç”Ÿåˆ°æ­»çš„è¿‡ç¨‹ï¼Œå¤„ç†æˆ‘ä»¬å„ç§é€»è¾‘ï¼Œå¿…ç„¶ä¼šç”¨åˆ°ç”Ÿå‘½å‘¨æœŸï¼ˆé’©å­å‡½æ•°ï¼‰

```js
class App extends React.Component{
    state = {
        msg :123
    }
    componentWillMount(){
        /**
            WillMount å…ˆæ‰§è¡Œï¼Œä½†æ˜¯ä¸ä¸€å®šå…ˆäºDidMound æ‰§è¡Œå®Œæ¯•
        */
        console.log('å³å°†æŒ‚è½½')
    }
    componentDidMount(){
        /**
            Dom æŒ‚åœ¨å®Œæ¯•
            é€šå¸¸è¿›è¡Œajaxæ“ä½œï¼Œè·å–åå°æ•°æ®
        */
        console.log('render ä¹‹å')
    }
    componentWillUpdate(){
        console.log('å³å°†æ›´æ–°')
    }
    componentDidUpdate(){
        /**
            å†æ¬¡è·å–åå°æ•°æ®
        */
        console.log('æ›´æ–°å®Œæ¯•')
        
    }
    shouldComponentUpdate(nextProps,nextState){
        /**
            æ›´æ–°ä¼šæ¶ˆè€—å†…å­˜ï¼Œå¯ä»¥åˆ¤æ–­å‰åæ•°æ®æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå†³å®šæ˜¯å¦æ›´æ–°
            è¿”å›false ä¸è¿›è¡Œæ›´æ–°ï¼Œä¸æ‰§è¡ŒcomponentWillUpdate å’Œ componentDidUpdate å‡½æ•°
        */
        console.log(nextProps,nextState)
        return true;    
    }
    componentWillUnmount(){
        console.log('å³å°†å¸è½½')
        //æ¸…é™¤å®šæ—¶å™¨
    }
    //å¸è½½ç»„ä»¶ï¼ˆå›ºå®šå†™æ³•ï¼‰
    unMount = () => {
        ReactDOM.unmountComponentAtNode(document.getElementById('app'))
    }
    click = ()=>{
        this.setState({
            msg:234
        })
    }
    render(){
        console.log('render')
        const {msg} = this.state
        return(
            <div>
                <h4>{msg}</h4>
                <button onClick = {this.click}>ç‚¹å‡»</button>
                <button onClick = {this.unMount}>å¸è½½</button>
            </div>
        )
    }
}
```
#### componentWillReceiveProps

```js
class List extends React.Component{
    // ç”Ÿå‘½å‘¨æœŸé’©å­
    componentWillReceiveProps(nextProps){
        /**
            è¯¥å£°æ˜å‘¨æœŸå‡½æ•°åœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶å¹¶ä¸ä¼šè°ƒç”¨
            å½“ç»„ä»¶å±æ€§ï¼ˆæ•°æ®ï¼‰å‘ç”Ÿæ”¹å˜æ—¶ï¼ˆåœ¨ä¸‹ä¸€æ¬¡æ¥å—propsæ—¶ï¼‰ï¼Œè°ƒç”¨è¯¥ç”Ÿå‘½å‘¨æœŸé’©å­
        */
        console.log(this.props);    // æœªæ›´æ”¹å‰çš„æ•°æ®
        console.log(nextProps); // æ›´æ”¹åçš„æ•°æ®
    }
    render(){
        return (
            <div>
                Hello Word!
            </div>
        )
    }
}
```

### [ç»ƒä¹ Demo](./React-todolist.html)

### [ä¸‹ä¸€ç¯‡ï¼šè¿›é˜¶](./è¿›é˜¶.md)
