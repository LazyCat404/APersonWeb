# Dart æ•°æ®ç±»å‹è¯¦è§£

Dart æ˜¯ä¸€ç§å¼ºç±»å‹è¯­è¨€ï¼Œå…·æœ‰é™æ€ç±»å‹æ£€æŸ¥å’Œç±»å‹æ¨æ–­ç‰¹æ€§ã€‚æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç» Dart ä¸­çš„å„ç§æ•°æ®ç±»å‹ã€‚

## åŸºæœ¬æ•°æ®ç±»å‹

### Numberï¼ˆæ•°å­—ï¼‰
Dart æä¾›ä¸¤ç§æ•°å­—ç±»å‹ï¼š`int` å’Œ `double`ã€‚

```dart
// æ•´æ•°ç±»å‹ (int)
int age = 30;
int hexValue = 0xFFFF; // åå…­è¿›åˆ¶è¡¨ç¤º

// æµ®ç‚¹æ•°ç±»å‹ (double)
double pi = 3.14159;
double e = 2.71828;

// æ•°å­—æ“ä½œ
int sum = 10 + 20;
double average = (95.5 + 87.0) / 2;
```

### Stringï¼ˆå­—ç¬¦ä¸²ï¼‰
Dart å­—ç¬¦ä¸²æ˜¯ UTF-16 ç¼–ç çš„å­—ç¬¦åºåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·å®šä¹‰ã€‚

```dart
// å­—ç¬¦ä¸²å®šä¹‰
String name = 'John';
String message = "Hello, World!";

// å¤šè¡Œå­—ç¬¦ä¸²
String paragraph = '''This is a
multi-line
string.''';

// å­—ç¬¦ä¸²æ’å€¼
String greeting = "Hello, $name!";
String info = "You are ${age} years old.";

// å­—ç¬¦ä¸²è¿æ¥
String combined = 'Hello ' + name;
```

### Booleansï¼ˆå¸ƒå°”å€¼ï¼‰
Dart å¸ƒå°”ç±»å‹åªæœ‰ä¸¤ä¸ªå€¼ï¼š`true` å’Œ `false`ã€‚

```dart
// å¸ƒå°”å€¼å®šä¹‰
bool isActive = true;
bool isCompleted = false;

// å¸ƒå°”è¡¨è¾¾å¼
bool isAdult = age >= 18;
```

### Functionsï¼ˆå‡½æ•°ï¼‰
å‡½æ•°æ˜¯ Dart ä¸­çš„ä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥ä½œä¸ºå˜é‡ã€å‚æ•°å’Œè¿”å›å€¼ä½¿ç”¨ã€‚

```dart
// å®šä¹‰å‡½æ•°
int add(int a, int b) {
  return a + b;
}

// ä½œä¸ºå˜é‡
var multiply = (int a, int b) => a * b;
print(multiply(5, 3)); // è¾“å‡º: 15

// ä½œä¸ºå‚æ•°
void applyOperation(int a, int b, int Function(int, int) operation) {
  print(operation(a, b));
}
applyOperation(10, 5, add); // è¾“å‡º: 15

// ä½œä¸ºè¿”å›å€¼
Function makeAdder(int addBy) {
  return (int number) => number + addBy;
}
var addFive = makeAdder(5);
print(addFive(10)); // è¾“å‡º: 15
```

### Listï¼ˆåˆ—è¡¨ï¼‰
åˆ—è¡¨æ˜¯æœ‰åºçš„å¯¹è±¡é›†åˆï¼Œç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„æ•°ç»„ã€‚

```dart
// åˆ›å»ºåˆ—è¡¨
List<int> numbers = [1, 2, 3, 4, 5];
List<String> fruits = ['Apple', 'Banana', 'Orange'];

// å¯å˜åˆ—è¡¨
List<int> mutableList = [1, 2, 3];
mutableList.add(4); // æ·»åŠ å…ƒç´ 
mutableList[0] = 10; // ä¿®æ”¹å…ƒç´ 

// ä¸å¯å˜åˆ—è¡¨
List<int> immutableList = const [1, 2, 3];

// åˆ—è¡¨æ“ä½œ
int first = numbers.first;
int last = numbers.last;
List<int> evenNumbers = numbers.where((n) => n % 2 == 0).toList();
```

### Setsï¼ˆé›†åˆï¼‰
é›†åˆæ˜¯æ— åºçš„å”¯ä¸€å¯¹è±¡é›†åˆã€‚

```dart
// åˆ›å»ºé›†åˆ
Set<String> uniqueNames = {'Alice', 'Bob', 'Charlie'};

// æ·»åŠ å…ƒç´ 
uniqueNames.add('David');
uniqueNames.add('Alice'); // é‡å¤å…ƒç´ ä¸ä¼šè¢«æ·»åŠ 

// æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
bool containsAlice = uniqueNames.contains('Alice');

// é›†åˆæ“ä½œ
Set<String> moreNames = {'Eve', 'Frank', 'Alice'};
Set<String> union = uniqueNames.union(moreNames); // åˆå¹¶ä¸¤ä¸ªé›†åˆï¼Œå»é‡
Set<String> intersection = uniqueNames.intersection(moreNames); // ä¸¤ä¸ªé›†åˆçš„äº¤é›†
```

### Mapsï¼ˆæ˜ å°„ï¼‰
æ˜ å°„æ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„å­—å…¸æˆ–å“ˆå¸Œè¡¨ã€‚

```dart
// åˆ›å»ºæ˜ å°„
Map<String, int> ages = {'Alice': 25, 'Bob': 30, 'Charlie': 35};

// æ·»åŠ æˆ–ä¿®æ”¹é”®å€¼å¯¹ï¼Œä¸èƒ½ä½¿ç”¨ ages.Bob æ¥è®¿é—®
ages['David'] = 40;
ages['Alice'] = 26; 

// è·å–å€¼
int? aliceAge = ages['Alice'];
int unknownAge = ages['Unknown'] ?? 0; // ä½¿ç”¨é»˜è®¤å€¼

// éå†æ˜ å°„
ages.forEach((key, value) {
  print('$key: $value');
});

// è·å–é”®ã€å€¼
ages.keys // æ‰€æœ‰é”®ï¼š(Alice, Bob, Charlie)
ages.values // æ‰€æœ‰å€¼ï¼š(26, 30, 35)

/**
 * ç›¸ç­‰æ€§ï¼šé»˜è®¤æ¯”è¾ƒå¼•ç”¨ç›¸ç­‰æ€§
 */ 
// ç¤ºä¾‹ 1ï¼šä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ª Map å®ä¾‹
Map<String, int> map1 = {'Alice': 25, 'Bob': 30};
Map<String, int> map2 = map1; // map2 å¼•ç”¨ map1 æŒ‡å‘çš„åŒä¸€ä¸ªå¯¹è±¡

print(map1 == map2); // trueï¼Œå› ä¸ºå®ƒä»¬å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡
map2['Alice'] = 26; // ä¿®æ”¹ map2 ä¹Ÿä¼šå½±å“ map1ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡
print(map1['Alice']); // è¾“å‡º: 26

// ç¤ºä¾‹ 2ï¼šä¸¤ä¸ªå†…å®¹ç›¸åŒä½†ä¸åŒå®ä¾‹çš„ Map
Map<String, int> map3 = {'Alice': 25, 'Bob': 30};
Map<String, int> map4 = {'Alice': 25, 'Bob': 30}; // åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ Map å®ä¾‹

print(map3 == map4); // falseï¼Œå› ä¸ºå®ƒä»¬å¼•ç”¨ä¸åŒçš„å¯¹è±¡ï¼Œå°½ç®¡å†…å®¹ç›¸åŒ
map4['Alice'] = 26; // ä¿®æ”¹ map4 ä¸ä¼šå½±å“ map3ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸åŒçš„å¯¹è±¡
print(map3['Alice']); // è¾“å‡º: 25
print(map4['Alice']); // è¾“å‡º: 26
```

### Recordsï¼ˆè®°å½•ï¼‰
Records æ˜¯ä¸€ç§ä¸å¯å˜çš„æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨å›ºå®šæ•°é‡çš„ã€å¯èƒ½ä¸åŒç±»å‹çš„å€¼ï¼Œç±»ä¼¼äºå…ƒç»„ï¼ˆTupleï¼‰ï¼Œä½†å…·æœ‰å‘½åå­—æ®µèƒ½åŠ›ã€‚

```dart
// å®šä¹‰ä¸€ä¸ªè®°å½•
var record = (name: 'Alice', age: 25, isActive: true);

// è®¿é—®è®°å½•å­—æ®µ
print(record.name); // è¾“å‡º: Alice
print(record.age); // è¾“å‡º: 25

// ç±»å‹åŒ–è®°å½•
(String, int, bool) userRecord = ('Bob', 30, false);

// è®¿é—®æ— åå­—æ®µ
print(userRecord.$1); // è¾“å‡º: Bob
print(userRecord.$2); // è¾“å‡º: 30

// è§£æ„è®°å½•
var (firstName, userAge, activeStatus) = userRecord;
print(firstName); // è¾“å‡º: Bob

// ç›¸ç­‰æ€§ï¼šæ¯”è¾ƒç»“æ„ç›¸ç­‰æ€§ï¼Œå½“ä¸”ä»…å½“æ‰€æœ‰å¯¹åº”å­—æ®µçš„å€¼éƒ½ç›¸ç­‰æ—¶ï¼Œä¸¤ä¸ªè®°å½•æ‰ç›¸ç­‰ã€‚
var record1 = (name: 'Alice', age: 25);
var record2 = (name: 'Alice', age: 25);
print(record1 == record2); // trueï¼Œç»“æ„ç›¸ç­‰
```

### Runesï¼ˆç¬¦æ–‡ï¼‰
Runes è¡¨ç¤º Unicode å­—ç¬¦çš„ UTF-32 ç¼–ç ç‚¹ã€‚åœ¨å­—ç¬¦ä¸²ä¸­ï¼ŒUnicode å­—ç¬¦å¯ä»¥ä½¿ç”¨ `\u{ç ç‚¹}` è¡¨ç¤ºã€‚

```dart
// ä½¿ç”¨ Runes è¡¨ç¤ºç‰¹æ®Šå­—ç¬¦
String smiley = '\u{1F600}'; // ğŸ˜€
String heart = '\u{2764}'; // â¤ï¸

// è·å–å­—ç¬¦ä¸²çš„ runes
Runes runes = smiley.runes;

// éå† runes
for (var rune in runes) {
  print(rune); // è¾“å‡º Unicode ç ç‚¹
  print(String.fromCharCode(rune)); // è¾“å‡ºå¯¹åº”çš„å­—ç¬¦
}
```

### Symbolsï¼ˆç¬¦å·ï¼‰
Symbol è¡¨ç¤º Dart ç¨‹åºä¸­çš„æ ‡è¯†ç¬¦ï¼Œé€šå¸¸ç”¨äºåå°„ã€‚

```dart
// åˆ›å»ºç¬¦å·
Symbol symbol1 = Symbol('myVariable');
Symbol symbol2 = #anotherVariable; // ç®€å†™è¯­æ³•

// ç¬¦å·æ¯”è¾ƒ
bool isEqual = symbol1 == Symbol('myVariable'); // true

// åœ¨åå°„ä¸­ä½¿ç”¨ï¼ˆéœ€è¦ import 'dart:mirrors'ï¼‰
// æ³¨æ„ï¼šFlutter ä¸æ”¯æŒ dart:mirrors åº“
```

## ç‰¹æ®Šç±»å‹

### 1. Null
`Null` ç±»å‹åªæœ‰ä¸€ä¸ªå€¼ `null`ï¼Œè¡¨ç¤ºç©ºå€¼ã€‚åœ¨ç©ºå®‰å…¨æ¨¡å¼ä¸‹ï¼Œé»˜è®¤æƒ…å†µä¸‹å˜é‡ä¸èƒ½ä¸º nullã€‚

```dart
// å¯ç©ºç±»å‹
String? nullableName;
nullableName = null; // åˆæ³•

// éç©ºç±»å‹
String nonNullableName = 'Alice';
nonNullableName = null; // ç¼–è¯‘é”™è¯¯

// ç©ºå€¼æ£€æŸ¥
String name = nullableName ?? 'Unknown';
String anotherName = nullableName!; // æ–­è¨€ä¸ä¸ºç©ºï¼Œä¸ºç©ºåˆ™æŠ›å‡ºå¼‚å¸¸
```

### 2. dynamic
`dynamic` ç±»å‹å…è®¸å˜é‡å­˜å‚¨ä»»ä½•ç±»å‹çš„å€¼ï¼Œå…³é—­ç±»å‹æ£€æŸ¥ã€‚

```dart
dynamic value = 42;
value = 'Hello'; // åˆæ³•
value = true; // åˆæ³•
```

### 3. var
`var` å£°æ˜å˜é‡æ—¶ï¼ŒDart ä¼šæ ¹æ®åˆå§‹å€¼æ¨æ–­å…¶ç±»å‹ã€‚

```dart
var count = 42; // æ¨æ–­ä¸º int ç±»å‹
var name = 'Alice'; // æ¨æ–­ä¸º String ç±»å‹
var list = [1, 2, 3]; // æ¨æ–­ä¸º List<int> ç±»å‹
```

### 4. Object
`Object` æ˜¯æ‰€æœ‰ Dart å¯¹è±¡çš„åŸºç±»ã€‚

```dart
Object num = 42;
Object str = 'Hello';
```

### 5. void
`void` è¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ã€‚

```dart
void printMessage(String message) {
  print(message);
}
```

### 6. Never
`Never` è¡¨ç¤ºæ°¸è¿œä¸ä¼šè¿”å›çš„å‡½æ•°ï¼Œé€šå¸¸ç”¨äºæŠ›å‡ºå¼‚å¸¸æˆ–æ— é™å¾ªç¯çš„å‡½æ•°ã€‚

```dart
Never throwError() {
  throw Exception('An error occurred');
}
```

## ç±»å‹ç³»ç»Ÿç‰¹æ€§

### 1. é™æ€ç±»å‹
Dart æ˜¯é™æ€ç±»å‹è¯­è¨€ï¼Œå˜é‡çš„ç±»å‹åœ¨ç¼–è¯‘æ—¶ç¡®å®šã€‚

```dart
String name = 'Alice'; // æ˜ç¡®æŒ‡å®šç±»å‹
name = 42; // ç¼–è¯‘é”™è¯¯ï¼Œç±»å‹ä¸åŒ¹é…
```

### 2. ç±»å‹æ¨æ–­
Dart å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­å˜é‡ç±»å‹ï¼Œæ— éœ€æ˜¾å¼å£°æ˜ã€‚

```dart
var age = 30; // æ¨æ–­ä¸º int ç±»å‹
double area = 3.14 * 5 * 5; // æ¨æ–­è¡¨è¾¾å¼ç»“æœä¸º double ç±»å‹
```

### 3. ç©ºå®‰å…¨
Dart 2.12 å¼•å…¥äº†ç©ºå®‰å…¨ç‰¹æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹å˜é‡ä¸èƒ½ä¸º nullã€‚

```dart
// å¯ç©ºç±»å‹å£°æ˜
int? nullableInt;
String? nullableString = null;

// ç©ºå€¼åˆ¤æ–­æ“ä½œç¬¦
String name = nullableString ?? 'Default';
print(nullableString?.length); // å¦‚æœä¸º null åˆ™è¿”å› nullï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸
```

## ç±»å‹è½¬æ¢

### 1. éšå¼è½¬æ¢
Dart ä¸ä¼šè‡ªåŠ¨è¿›è¡ŒæŸäº›ç±»å‹è½¬æ¢ï¼Œéœ€è¦æ˜¾å¼è½¬æ¢ã€‚

```dart
// ä»¥ä¸‹ä»£ç ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯
int i = 42;
double d = i; // é”™è¯¯
```

### 2. æ˜¾å¼è½¬æ¢

```dart
// æ•°å­—ç±»å‹è½¬æ¢
int i = 42;
double d = i.toDouble();

// å­—ç¬¦ä¸²è½¬æ¢
String intStr = i.toString();
String doubleStr = d.toStringAsFixed(2); // ä¿ç•™2ä½å°æ•°

// è§£æå­—ç¬¦ä¸²ä¸ºæ•°å­—
int parsedInt = int.parse('42');
double parsedDouble = double.parse('3.14');

// å¸ƒå°”å€¼è½¬æ¢
String boolStr = true.toString();
```

## ç±»å‹æ£€æŸ¥å’Œè½¬æ¢æ“ä½œç¬¦

### 1. is æ“ä½œç¬¦
æ£€æŸ¥å¯¹è±¡æ˜¯å¦ä¸ºæŒ‡å®šç±»å‹ã€‚

```dart
void checkType(dynamic value) {
  if (value is int) {
    print('Value is an integer');
  } else if (value is String) {
    print('Value is a string');
  }
}
```

### 2. is!
æ£€æŸ¥å¯¹è±¡æ˜¯å¦ä¸æ˜¯æŒ‡å®šç±»å‹ã€‚

```dart
if (value is! int) {
  print('Value is not an integer');
}
```

### 3. as æ“ä½œç¬¦
å°†å¯¹è±¡è½¬æ¢ä¸ºæŒ‡å®šç±»å‹ã€‚

```dart
dynamic value = 'Hello';
String str = value as String;
```

## ç±»å‹åˆ«å
ç±»å‹åˆ«åå…è®¸ä¸ºç°æœ‰ç±»å‹åˆ›å»ºæ–°åç§°ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚

```dart
// ä¸ºå‡½æ•°ç±»å‹åˆ›å»ºåˆ«å
typedef IntOperation = int Function(int, int);

// ä½¿ç”¨åˆ«å
IntOperation add = (a, b) => a + b;
IntOperation multiply = (a, b) => a * b;

// ä¸ºå¤æ‚ç±»å‹åˆ›å»ºåˆ«å
typedef UserMap = Map<String, Map<String, dynamic>>;

// ä½¿ç”¨åˆ«å
UserMap users = {
  'user1': {'name': 'Alice', 'age': 25},
  'user2': {'name': 'Bob', 'age': 30}
};
```