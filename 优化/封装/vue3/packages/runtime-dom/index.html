<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./dist/runtime-dom.global.js"></script>
    <!-- <script src="./runtime-dom.global.js"></script> -->
</head>
<body>
    <div id="app"></div>
    <script> 
        const {createApp,h,ref,Text,Fragment} = VueRuntimeDOM;
        function useCounter(){
            const count = ref(0);
            const add = ()=>{
                count.value++;
            }
            return {count,add}
        }
        let App = {
            props:{
                title:''
            },
            setup(props,ctx){
                let {count,add} = useCounter()
                // setup 可以返回render函数，或者可以返回渲染所需的数据结果
                // return ()=>{
                //     return h('h1',{onClick:this.add},`hello word${this.count}`) 
                // }
                let flag = ref(true);
                // setTimeout(() => {
                //     flag.value = !flag.value
                // },1000)
                return {
                    count,
                    flag,
                    add
                }
            },
            render(proxy){
                // return proxy.flag.value ? 
                //     h('ul',{},[
                //         h('li',{key:'a'},'a'),
                //         h('li',{key:'b'},'b'),
                //     ]): 
                //     h('ul',{},[
                //         h('li',{key:'c'},'c'),
                //         h('li',{key:'a'},'a'),
                //         h('li',{key:'b'},'b'),
                //     ])

                // return proxy.flag.value ? 
                //     h('ul',{},[
                //         h('li',{key:'c'},'c'),
                //         h('li',{key:'a'},'a'),
                //         h('li',{key:'b'},'b'),
                //     ]): 
                //     h('ul',{},[
                //         h('li',{key:'a'},'a'),
                //         h('li',{key:'b'},'b'),
                //     ])

                // return proxy.flag.value ? 
                //     h('ul',{},[
                //         h('li',{key:'a'},'a'),
                //         h('li',{key:'b'},'b'),
                //         h('li',{key:'c'},'c'),
                //         h('li',{key:'d'},'d'),
                //         h('li',{key:'e'},'e'),
                //         h('li',{key:'q'},'q'),
                //         h('li',{key:'f'},'f'),
                //         h('li',{key:'g'},'g'),
                //     ]): 
                //     h('ul',{},[
                //         h('li',{key:'a'},'a'),
                //         h('li',{key:'b'},'b'),
                //         h('li',{key:'e'},'e'),
                //         h('li',{key:'c'},'c'),
                //         h('li',{key:'d'},'d'),
                //         h('li',{key:'h'},'h'),
                //         h('li',{key:'f'},'f'),
                //         h('li',{key:'g'},'g'),
                //     ])
                return h(Fragment,[h('div','Hello'),h('h1','Word')])
            }
        }
        let app = createApp(App,{title:'小红',age:18})
        app.mount('#app')
    </script>
</body>
</html>